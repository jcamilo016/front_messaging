(this.webpackJsonpmensajeria=this.webpackJsonpmensajeria||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){},182:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(42),r=a.n(c),s=(a(136),a(137),a(47)),l=a(12),o=a(104),j=a.n(o),d=a(26),b=a(236),u=a(246),h=a(229),x=a(247),O=a(248),m=a(120),v=a(237),g=a(1);var p=function(e){var t=e.children,a=e.value,n=e.index,i=Object(m.a)(e,["children","value","index"]);return Object(g.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},i),{},{children:a===n&&Object(g.jsx)(b.a,{sx:{p:3},children:Object(g.jsx)(v.a,{children:t})})}))},f=a(235),C=a(245),S=a(228),w=a(243),T=a(114),I=a.n(T),E=a(67),y=a.n(E),A=a(238),P=a(240),N=a(241),M=a(242),F=a(230),L=a(107),z=a.n(L),B=a.p+"static/media/user_male.170c800c.svg",k=a.p+"static/media/user_female.ead7f208.svg",H=a(27),R=a(106),V=a.n(R).a.create({baseURL:"http://localhost:8080/"});var D=function(e){var t=e.nombre,a=e.cedula,n=e.telefono,i=e.email,c=e.genero,r=e.setShowAlert,s=e.refetch,o=Object(H.useLazyAxios)({axiosInstance:V,url:"destinatario/".concat(a),method:"DELETE"}),j=Object(l.a)(o,2),d=j[0],b=j[1].loading;return Object(g.jsxs)(A.a,{sx:{maxWidth:345},elevation:3,children:[Object(g.jsx)(P.a,{component:"img",alt:"user image",image:"HOMBRE"===c?B:k,className:"media"}),Object(g.jsxs)(N.a,{children:[Object(g.jsx)(v.a,{gutterBottom:!0,variant:"h5",component:"div",children:t}),Object(g.jsx)(v.a,{variant:"body2",color:"text.secondary",children:"C\xe9dula: ".concat(a)}),Object(g.jsx)(v.a,{variant:"body2",color:"text.secondary",children:"Celular: ".concat(n)}),Object(g.jsx)(v.a,{variant:"body2",color:"text.secondary",children:"Email: ".concat(i)})]}),Object(g.jsx)(M.a,{children:Object(g.jsx)(F.a,{variant:"outlined",startIcon:Object(g.jsx)(z.a,{}),onClick:function(){d().then((function(e){r(!0),s()}))},loadingPosition:"start",loading:b,children:"Eliminar"})})]})},W=a(233),q=a(234);var J=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],i=t[1],c=Object(H.useAxios)({axiosInstance:V,url:"/destinatario"}),r=c.data,s=c.loading,o=c.error,j=c.refetch;return Object(n.useEffect)((function(){var e=setTimeout((function(){!0===a&&i(!1)}),3e3);return function(){clearTimeout(e)}}),[a]),console.log(r),Object(g.jsxs)(g.Fragment,{children:[a&&Object(g.jsxs)(S.a,{severity:"success",className:"alert-container",children:[Object(g.jsx)(w.a,{children:"Exito!"}),"Se ha eliminado el destinatario"]}),Object(g.jsxs)(W.a,{container:!0,spacing:4,children:[r&&r.map((function(e){return Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(D,{nombre:e.name,cedula:e.userId,telefono:e.phone,email:e.email,genero:e.genre,setShowAlert:i,refetch:j})},e.userId)})),s&&Object(g.jsxs)(W.a,{container:!0,spacing:2,justifyContent:"center",sx:{marginTop:"25px"},children:[Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:300,height:300})}),Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:300,height:300})}),Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:300,height:300})}),Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:300,height:300})}),Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:300,height:300})}),Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:300,height:300})}),Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:300,height:300})}),Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:300,height:300})})]}),o&&Object(g.jsx)(W.a,{container:!0,justifyContent:"center",sx:{marginTop:"25px"},children:Object(g.jsx)(W.a,{item:!0,children:"Error :("})})]})]})},U=a(45),_=a(226),G=a(244),K=a(231),Q=a(110),X=a.n(Q),Y=a(111),Z=a.n(Y),$=a(68),ee=a.n($),te=a(112),ae=a.n(te),ne=a(113),ie=a.n(ne),ce=[{value:"HOMBRE",label:"Hombre"},{value:"MUJER",label:"Mujer"}];var re=function(e){var t=e.onFormSubmit,a=e.isLoading,n=i.a.useState("HOMBRE"),c=Object(l.a)(n,2),r=c[0],s=c[1],o=Object(U.a)({initialValues:{userId:"",phone:"",name:"",email:"",genre:"HOMBRE"},onSubmit:t});return Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:o.handleSubmit,className:"destinatario-form-container",children:[Object(g.jsx)(_.a,{id:"userId",label:"C\xe9dula",onChange:o.handleChange,InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(X.a,{})})}}),Object(g.jsx)(_.a,{id:"name",label:"Nombre del destinario",onChange:o.handleChange,InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(y.a,{})})}}),Object(g.jsx)(_.a,{id:"phone",label:"Tel\xe9fono",onChange:o.handleChange,InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(Z.a,{})})}}),Object(g.jsx)(_.a,{id:"email",label:"E-mail",onChange:o.handleChange,InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(ee.a,{})})}}),Object(g.jsx)(_.a,{id:"genre",select:!0,value:r,label:"G\xe9nero",InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(ae.a,{})})},onChange:function(e){s(e.target.value),o.setFieldValue("genre",e.target.value)},helperText:"Por favor seleccione su g\xe9nero",children:ce.map((function(e){return Object(g.jsx)(K.a,{value:e.value,children:e.label},e.value)}))}),Object(g.jsx)(F.a,{variant:"contained",size:"large",className:"create-button",type:"submit",startIcon:Object(g.jsx)(ie.a,{}),loadingPosition:"start",loading:a,children:"Crear Destinatario"})]})})};var se=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],r=i.a.useState("lista"),s=Object(l.a)(r,2),o=s[0],j=s[1],d=Object(H.useLazyAxios)({axiosInstance:V,url:"destinatario/crear",method:"POST"}),b=Object(l.a)(d,2),u=b[0],h=b[1].loading;Object(n.useEffect)((function(){var e=setTimeout((function(){!0===a&&c(!1)}),3e3);return function(){clearTimeout(e)}}),[a]);var x=Object(n.useCallback)((function(e){u(e).then((function(e){j("lista"),c(!0)}))}),[u]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"toggle-buttons-container",children:Object(g.jsxs)(f.a,{color:"primary",value:o,exclusive:!0,onChange:function(e,t){j(t)},children:[Object(g.jsxs)(C.a,{value:"lista",children:[Object(g.jsx)(I.a,{}),Object(g.jsx)("span",{className:"button-span",children:"Lista de destinatarios"})]}),Object(g.jsxs)(C.a,{value:"crear",children:[Object(g.jsx)(y.a,{}),Object(g.jsx)("span",{className:"button-span",children:"Crear destinatario"})]})]})}),a&&Object(g.jsxs)(S.a,{severity:"success",className:"alert-container",children:[Object(g.jsx)(w.a,{children:"Exito!"}),"Se ha creado el destinatario"]}),"lista"===o&&Object(g.jsx)(J,{}),"crear"===o&&Object(g.jsx)(re,{onFormSubmit:x,isLoading:h})]})},le=a(117),oe=a.n(le),je=a(118),de=a.n(je),be=a(115),ue=a.n(be),he=a(69),xe=a.n(he);var Oe=function(e){var t=e.destinatarios,a=e.setShowAlert,n=i.a.useState(""),c=Object(l.a)(n,2),r=c[0],s=c[1],o=t.map((function(e){return{value:e.email,label:"".concat(e.email," - ").concat(e.name)}})),j=Object(H.useLazyAxios)({axiosInstance:V,url:"mensajeria/enviarMail",method:"POST"}),d=Object(l.a)(j,2),b=d[0],u=d[1].loading,h=Object(U.a)({initialValues:{to:"",subject:"",text:""},onSubmit:function(e){b(e).then((function(e){a(!0)}))}});return Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:h.handleSubmit,className:"mensajeria-form-container",children:[Object(g.jsx)(_.a,{id:"to",select:!0,value:r,label:"Hacia",InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(ee.a,{})})},onChange:function(e){s(e.target.value),h.setFieldValue("to",e.target.value)},helperText:"Cuenta de correo a la que quiere enviar el mensaje",children:o.map((function(e){return Object(g.jsx)(K.a,{value:e.value,children:e.label},e.value)}))}),Object(g.jsx)(_.a,{id:"subject",label:"Asunto",onChange:h.handleChange,InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(ue.a,{})})}}),Object(g.jsx)(_.a,{id:"text",label:"Mensaje",multiline:!0,rows:6,onChange:h.handleChange,helperText:"Cuerpo del mensaje a enviar"}),Object(g.jsx)(F.a,{variant:"contained",size:"large",className:"create-button",type:"submit",startIcon:Object(g.jsx)(xe.a,{}),loadingPosition:"start",loading:u,children:"Enviar Email"})]})})},me=a(116),ve=a.n(me);var ge=function(e){var t=e.destinatarios,a=e.setShowAlert,i=Object(n.useState)(""),c=Object(l.a)(i,2),r=c[0],s=c[1],o=t.map((function(e){return{value:e.phone,label:"".concat(e.phone," - ").concat(e.name)}})),j=Object(H.useLazyAxios)({axiosInstance:V,url:"mensajeria/enviarSms",method:"POST"}),d=Object(l.a)(j,2),b=d[0],u=d[1].loading,h=Object(U.a)({initialValues:{phoneTo:"",message:""},onSubmit:function(e){b(e).then((function(e){a(!0)}))}});return Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:h.handleSubmit,className:"mensajeria-form-container",children:[Object(g.jsx)(_.a,{id:"phoneTo",select:!0,value:r,label:"Tel\xe9fono",InputProps:{startAdornment:Object(g.jsx)(G.a,{position:"start",children:Object(g.jsx)(ve.a,{})})},onChange:function(e){s(e.target.value),h.setFieldValue("phoneTo",e.target.value)},helperText:"Tel\xe9fono al que desea enviar el sms",children:o.map((function(e){return Object(g.jsx)(K.a,{value:e.value,children:e.label},e.value)}))}),Object(g.jsx)(_.a,{id:"message",label:"Mensaje",multiline:!0,rows:3,onChange:h.handleChange,helperText:"Texto del mensaje a enviar"}),Object(g.jsx)(F.a,{variant:"contained",size:"large",className:"create-button",type:"submit",startIcon:Object(g.jsx)(xe.a,{}),loadingPosition:"start",loading:u,children:"Enviar Sms"})]})})};var pe=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)("email"),r=Object(l.a)(c,2),s=r[0],o=r[1],j=Object(H.useAxios)({axiosInstance:V,url:"/destinatario"}),d=j.data,b=j.loading;return Object(n.useEffect)((function(){var e=setTimeout((function(){!0===a&&i(!1)}),3e3);return function(){clearTimeout(e)}}),[a]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"toggle-buttons-container",children:Object(g.jsxs)(f.a,{color:"primary",value:s,exclusive:!0,onChange:function(e,t){o(t)},children:[Object(g.jsxs)(C.a,{value:"email",children:[Object(g.jsx)(oe.a,{}),Object(g.jsx)("span",{className:"button-span",children:"Enviar E-Mail"})]}),Object(g.jsxs)(C.a,{value:"sms",children:[Object(g.jsx)(de.a,{}),Object(g.jsx)("span",{className:"button-span",children:"Enviar SMS"})]})]})}),a&&Object(g.jsxs)(S.a,{severity:"success",className:"alert-container",children:[Object(g.jsx)(w.a,{children:"Exito!"}),"Se ha enviado el mensaje"]}),d&&"email"===s&&Object(g.jsx)(Oe,{destinatarios:d,setShowAlert:i}),d&&"sms"===s&&Object(g.jsx)(ge,{destinatarios:d,setShowAlert:i}),b&&Object(g.jsxs)(W.a,{container:!0,spacing:4,justifyContent:"center",sx:{marginTop:"25px"},direction:"column",alignItems:"center",children:[Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:536,height:40})}),Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:536,height:40})}),Object(g.jsx)(W.a,{item:!0,children:Object(g.jsx)(q.a,{variant:"rectangular",width:536,height:138})})]})]})};var fe=function(){var e=Object(d.a)(),t=Object(n.useState)(0),a=Object(l.a)(t,2),i=a[0],c=a[1],r=Object(n.useCallback)((function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}),[]);return Object(g.jsxs)(b.a,{sx:{bgcolor:"background.paper",width:"auto"},children:[Object(g.jsx)(u.a,{position:"static",children:Object(g.jsxs)(h.a,{value:i,onChange:function(e,t){c(t)},indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(g.jsx)(x.a,Object(s.a)({label:"Mensajer\xeda"},r(0))),Object(g.jsx)(x.a,Object(s.a)({label:"Destinatarios"},r(1)))]})}),Object(g.jsxs)(j.a,{axis:"rtl"===e.direction?"x-reverse":"x",index:i,onChangeIndex:function(e){c(e)},children:[Object(g.jsx)(p,{value:i,index:0,dir:e.direction,children:Object(g.jsx)(O.a,{maxWidth:"80%",children:Object(g.jsx)(pe,{})})}),Object(g.jsx)(p,{value:i,index:1,dir:e.direction,children:Object(g.jsx)(O.a,{maxWidth:"80%",children:Object(g.jsx)(se,{})})})]})]})};var Ce=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(fe,{})})},Se=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,249)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),i(e),c(e),r(e)}))};r.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(Ce,{})}),document.getElementById("root")),Se()}},[[182,1,2]]]);
//# sourceMappingURL=main.9db3df5c.chunk.js.map