(this.webpackJsonpmensajeria=this.webpackJsonpmensajeria||[]).push([[0],{134:function(e,t,a){},135:function(e,t,a){},181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(41),i=a.n(c),s=(a(134),a(135),a(34)),l=a(12),o=a(102),j=a.n(o),u=a(25),b=a(230),d=a(241),h=a(225),m=a(242),O=a(243),x=a(118),v=a(231),p=a(1);var f=function(e){var t=e.children,a=e.value,n=e.index,r=Object(x.a)(e,["children","value","index"]);return Object(p.jsx)("div",Object(s.a)(Object(s.a)({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),{},{children:a===n&&Object(p.jsx)(b.a,{sx:{p:3},children:Object(p.jsx)(v.a,{children:t})})}))},g=a(42),S=a.n(g),C=a(55),E=a(229),y=a(240),N=a(224),T=a(238),w=a(112),F=a.n(w),I=a(67),M=a.n(I),k=a(232),P=a(234),A=a(235),B=a(236),D=a(237),H=a(104),R=a.n(H),V=a.p+"static/media/user_male.170c800c.svg",z=a.p+"static/media/user_female.ead7f208.svg";var L=function(e){var t=e.nombre,a=e.cedula,n=e.telefono,r=e.email,c=e.genero,i=e.eliminar;return Object(p.jsxs)(k.a,{sx:{maxWidth:345},children:[Object(p.jsx)(P.a,{component:"img",alt:"user image",image:"HOMBRE"===c?V:z,className:"media"}),Object(p.jsxs)(A.a,{children:[Object(p.jsx)(v.a,{gutterBottom:!0,variant:"h5",component:"div",children:t}),Object(p.jsx)(v.a,{variant:"body2",color:"text.secondary",children:"C\xe9dula: ".concat(a)}),Object(p.jsx)(v.a,{variant:"body2",color:"text.secondary",children:"Celular: ".concat(n)}),Object(p.jsx)(v.a,{variant:"body2",color:"text.secondary",children:"Email: ".concat(r)})]}),Object(p.jsx)(B.a,{children:Object(p.jsx)(D.a,{variant:"outlined",startIcon:Object(p.jsx)(R.a,{}),onClick:function(){return i(a)},children:"Eliminar"})})]})},W=a(228),q=a(105),J=a.n(q).a.create({baseURL:"http://ec2-35-175-138-59.compute-1.amazonaws.com:8443/"});var U=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=function(){J.get("/destinatario").then((function(e){return r(e.data)}))};return Object(n.useEffect)((function(){c()}),[]),{destinatarios:a,eliminarDestinatario:function(e){J.delete("/destinatario/".concat(e)).then((function(){return c()}))},listarUsuarios:c,crearDestinatario:function(e){J.post("/destinatario/crear",Object(s.a)({},e)).then((function(e){return c()}))},enviarEmail:function(e){J.post("/mensajeria/enviarMail",Object(s.a)({},e)).then((function(e){return console.log(e)}))},enviarSms:function(e){J.post("/mensajeria/enviarSms",Object(s.a)({},e)).then((function(e){return console.log(e)}))}}};var _=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],c=U(),i=c.destinatarios,s=c.eliminarDestinatario;Object(n.useEffect)((function(){var e=setTimeout((function(){!0===a&&r(!1)}),3e3);return function(){clearTimeout(e)}}),[a]);var o=Object(n.useCallback)((function(e){s(e),r(!0)}),[s]);return Object(p.jsxs)(p.Fragment,{children:[a&&Object(p.jsxs)(N.a,{severity:"success",className:"alert-container",children:[Object(p.jsx)(T.a,{children:"Exito!"}),"Se ha eliminado el destinatario"]}),Object(p.jsx)(W.a,{container:!0,spacing:4,children:i&&i.map((function(e){return Object(p.jsx)(W.a,{item:!0,children:Object(p.jsx)(L,{nombre:e.name,cedula:e.userId,telefono:e.phone,email:e.email,genero:e.genre,eliminar:o})},e.userId)}))})]})},G=a(45),K=a(222),Q=a(239),X=a(226),Y=a(108),Z=a.n(Y),$=a(109),ee=a.n($),te=a(68),ae=a.n(te),ne=a(110),re=a.n(ne),ce=a(111),ie=a.n(ce),se=[{value:"HOMBRE",label:"Hombre"},{value:"MUJER",label:"Mujer"}];var le=function(e){var t=e.onFormSubmit,a=r.a.useState("HOMBRE"),n=Object(l.a)(a,2),c=n[0],i=n[1],s=Object(G.a)({initialValues:{userId:"",phone:"",name:"",email:"",genre:"HOMBRE"},onSubmit:t});return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:s.handleSubmit,className:"destinatario-form-container",children:[Object(p.jsx)(K.a,{id:"userId",label:"C\xe9dula",onChange:s.handleChange,InputProps:{startAdornment:Object(p.jsx)(Q.a,{position:"start",children:Object(p.jsx)(Z.a,{})})}}),Object(p.jsx)(K.a,{id:"name",label:"Nombre del destinario",onChange:s.handleChange,InputProps:{startAdornment:Object(p.jsx)(Q.a,{position:"start",children:Object(p.jsx)(M.a,{})})}}),Object(p.jsx)(K.a,{id:"phone",label:"Tel\xe9fono",onChange:s.handleChange,InputProps:{startAdornment:Object(p.jsx)(Q.a,{position:"start",children:Object(p.jsx)(ee.a,{})})}}),Object(p.jsx)(K.a,{id:"email",label:"E-mail",onChange:s.handleChange,InputProps:{startAdornment:Object(p.jsx)(Q.a,{position:"start",children:Object(p.jsx)(ae.a,{})})}}),Object(p.jsx)(K.a,{id:"genre",select:!0,value:c,label:"G\xe9nero",InputProps:{startAdornment:Object(p.jsx)(Q.a,{position:"start",children:Object(p.jsx)(re.a,{})})},onChange:function(e){i(e.target.value),s.setFieldValue("genre",e.target.value)},helperText:"Por favor seleccione su g\xe9nero",children:se.map((function(e){return Object(p.jsx)(X.a,{value:e.value,children:e.label},e.value)}))}),Object(p.jsxs)(D.a,{variant:"contained",size:"large",className:"create-button",type:"submit",children:[Object(p.jsx)(ie.a,{}),Object(p.jsx)("span",{className:"button-span",children:"Crear Destinatario"})]})]})})};var oe=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],i=r.a.useState("lista"),s=Object(l.a)(i,2),o=s[0],j=s[1],u=U().crearDestinatario;Object(n.useEffect)((function(){var e=setTimeout((function(){!0===a&&c(!1)}),3e3);return function(){clearTimeout(e)}}),[a]);var b=Object(n.useCallback)(function(){var e=Object(C.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:c(!0),j("lista");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[u]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"toggle-buttons-container",children:Object(p.jsxs)(E.a,{color:"primary",value:o,exclusive:!0,onChange:function(e,t){j(t)},children:[Object(p.jsxs)(y.a,{value:"lista",children:[Object(p.jsx)(F.a,{}),Object(p.jsx)("span",{className:"button-span",children:"Lista de destinatarios"})]}),Object(p.jsxs)(y.a,{value:"crear",children:[Object(p.jsx)(M.a,{}),Object(p.jsx)("span",{className:"button-span",children:"Crear destinatario"})]})]})}),a&&Object(p.jsxs)(N.a,{severity:"success",className:"alert-container",children:[Object(p.jsx)(T.a,{children:"Exito!"}),"Se ha creado el destinatario"]}),"lista"===o&&Object(p.jsx)(_,{}),"crear"===o&&Object(p.jsx)(le,{onFormSubmit:b})]})},je=a(115),ue=a.n(je),be=a(116),de=a.n(be),he=a(113),me=a.n(he),Oe=a(69),xe=a.n(Oe);var ve=function(e){var t=e.onFormEmailSubmit,a=e.destinatarios,n=r.a.useState(""),c=Object(l.a)(n,2),i=c[0],s=c[1],o=a.map((function(e){return{value:e.email,label:e.email}})),j=Object(G.a)({initialValues:{to:"",subject:"",text:""},onSubmit:t});return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:j.handleSubmit,className:"mensajeria-form-container",children:[Object(p.jsx)(K.a,{id:"to",select:!0,value:i,label:"Hacia",InputProps:{startAdornment:Object(p.jsx)(Q.a,{position:"start",children:Object(p.jsx)(ae.a,{})})},onChange:function(e){s(e.target.value),j.setFieldValue("to",e.target.value)},helperText:"Cuenta de correo a la que quiere enviar el mensaje",children:o.map((function(e){return Object(p.jsx)(X.a,{value:e.value,children:e.label},e.value)}))}),Object(p.jsx)(K.a,{id:"subject",label:"Asunto",onChange:j.handleChange,InputProps:{startAdornment:Object(p.jsx)(Q.a,{position:"start",children:Object(p.jsx)(me.a,{})})}}),Object(p.jsx)(K.a,{id:"text",label:"Mensaje",multiline:!0,rows:6,onChange:j.handleChange,helperText:"Cuerpo del mensaje a enviar"}),Object(p.jsxs)(D.a,{variant:"contained",size:"large",className:"create-button",type:"submit",children:[Object(p.jsx)(xe.a,{}),Object(p.jsx)("span",{className:"button-span",children:"Enviar Email"})]})]})})},pe=a(114),fe=a.n(pe);var ge=function(e){var t=e.destinatarios,a=e.onFormSMSSubmit,r=Object(n.useState)(""),c=Object(l.a)(r,2),i=c[0],s=c[1],o=t.map((function(e){return{value:e.phone,label:e.phone}})),j=Object(G.a)({initialValues:{phoneTo:"",message:""},onSubmit:a});return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:j.handleSubmit,className:"mensajeria-form-container",children:[Object(p.jsx)(K.a,{id:"phoneTo",select:!0,value:i,label:"Tel\xe9fono",InputProps:{startAdornment:Object(p.jsx)(Q.a,{position:"start",children:Object(p.jsx)(fe.a,{})})},onChange:function(e){s(e.target.value),j.setFieldValue("phoneTo",e.target.value)},helperText:"Tel\xe9fono al que desea enviar el sms",children:o.map((function(e){return Object(p.jsx)(X.a,{value:e.value,children:e.label},e.value)}))}),Object(p.jsx)(K.a,{id:"message",label:"Mensaje",multiline:!0,rows:3,onChange:j.handleChange,helperText:"Texto del mensaje a enviar"}),Object(p.jsxs)(D.a,{variant:"contained",size:"large",className:"create-button",type:"submit",children:[Object(p.jsx)(xe.a,{}),Object(p.jsx)("span",{className:"button-span",children:"Enviar Sms"})]})]})})};var Se=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],i=r.a.useState("email"),s=Object(l.a)(i,2),o=s[0],j=s[1],u=U(),b=u.destinatarios,d=u.enviarEmail,h=u.enviarSms;Object(n.useEffect)((function(){var e=setTimeout((function(){!0===a&&c(!1)}),3e3);return function(){clearTimeout(e)}}),[a]);var m=Object(n.useCallback)(function(){var e=Object(C.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:c(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[d]),O=Object(n.useCallback)(function(){var e=Object(C.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:c(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"toggle-buttons-container",children:Object(p.jsxs)(E.a,{color:"primary",value:o,exclusive:!0,onChange:function(e,t){j(t)},children:[Object(p.jsxs)(y.a,{value:"email",children:[Object(p.jsx)(ue.a,{}),Object(p.jsx)("span",{className:"button-span",children:"Enviar E-Mail"})]}),Object(p.jsxs)(y.a,{value:"sms",children:[Object(p.jsx)(de.a,{}),Object(p.jsx)("span",{className:"button-span",children:"Enviar SMS"})]})]})}),a&&Object(p.jsxs)(N.a,{severity:"success",className:"alert-container",children:[Object(p.jsx)(T.a,{children:"Exito!"}),"Se ha enviado el mensaje"]}),"email"===o&&Object(p.jsx)(ve,{destinatarios:b,onFormEmailSubmit:m}),"sms"===o&&Object(p.jsx)(ge,{destinatarios:b,onFormSMSSubmit:O})]})};var Ce=function(){var e=Object(u.a)(),t=Object(n.useState)(0),a=Object(l.a)(t,2),r=a[0],c=a[1],i=Object(n.useCallback)((function(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}),[]);return Object(p.jsxs)(b.a,{sx:{bgcolor:"background.paper",width:"auto"},children:[Object(p.jsx)(d.a,{position:"static",children:Object(p.jsxs)(h.a,{value:r,onChange:function(e,t){c(t)},indicatorColor:"secondary",textColor:"inherit",variant:"fullWidth","aria-label":"full width tabs example",children:[Object(p.jsx)(m.a,Object(s.a)({label:"Mensajer\xeda"},i(0))),Object(p.jsx)(m.a,Object(s.a)({label:"Destinatarios"},i(1)))]})}),Object(p.jsxs)(j.a,{axis:"rtl"===e.direction?"x-reverse":"x",index:r,onChangeIndex:function(e){c(e)},children:[Object(p.jsx)(f,{value:r,index:0,dir:e.direction,children:Object(p.jsx)(O.a,{maxWidth:"80%",children:Object(p.jsx)(Se,{})})}),Object(p.jsx)(f,{value:r,index:1,dir:e.direction,children:Object(p.jsx)(O.a,{maxWidth:"80%",children:Object(p.jsx)(oe,{})})})]})]})};var Ee=function(){return Object(p.jsx)("div",{children:Object(p.jsx)(Ce,{})})},ye=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,244)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Ee,{})}),document.getElementById("root")),ye()}},[[181,1,2]]]);
//# sourceMappingURL=main.a372c754.chunk.js.map